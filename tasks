#!/usr/bin/env node

const fs = require('fs');
const action = process.argv[2];
const newTask = process.argv.slice(3).join(' ');
const add = require('./commands/add.js');
const complete = require('./commands/complete.js');
const del = require('./commands/del.js');
const list = require('./commands/list.js');

if (process.env.NPM_NODE=== 'test') {
  console.log('we\'re testing')
}

if (!fs.existsSync('./tasks.json')) {
  fs.writeFileSync('', '[]');
}

switch (action) {
  case 'add':
    add(newTask);
    break;

  case 'del':
    del();
    break;

  case 'list':
    list();
    break;

  case 'complete':
    complete();
    break;

  default:
    console.log('That is an invalid command, please try again.');
}
